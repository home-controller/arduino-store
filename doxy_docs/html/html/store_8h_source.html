<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>arduino store: src/store.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script type="text/javascript">
window.MathJax = {
  options: {
    ignoreHtmlClass: 'tex2jax_ignore',
    processHtmlClass: 'tex2jax_process'
  }
};
</script>
<script type="text/javascript" id="MathJax-script" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/es5/tex-chtml.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">arduino store<span id="projectnumber">&#160;0.0.2</span>
   </div>
   <div id="projectbrief">Store data permanently. Only EEPROM for now but planning to add more.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('store_8h_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle"><div class="title">store.h</div></div>
</div><!--header-->
<div class="contents">
<a href="store_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span> </div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span><span class="preprocessor">#ifndef _Store_h</span></div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span><span class="preprocessor">#define _Store_h</span></div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span> </div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span><span class="preprocessor">#include &lt;Arduino.h&gt;</span></div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span> </div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno"><a class="line" href="store_8h.html">   24</a></span><span class="keyword">typedef</span> <span class="keyword">struct </span>{</div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno"><a class="line" href="store_8h.html#a140e81ed333b945f2430230e7da23f45">   25</a></span>    word <a class="code hl_variable" href="store_8h.html#a140e81ed333b945f2430230e7da23f45">start</a>;  </div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno"><a class="line" href="store_8h.html#a91392f39b00b69c871dcfbd57095b643">   26</a></span>    <span class="keywordtype">byte</span> <a class="code hl_variable" href="store_8h.html#a91392f39b00b69c871dcfbd57095b643">slots</a>;  </div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno"><a class="line" href="store_8h.html#a4c0d47a86eb54a54bdc30f23b0d648fc">   27</a></span>    <span class="keywordtype">byte</span> <a class="code hl_variable" href="store_8h.html#a4c0d47a86eb54a54bdc30f23b0d648fc">size</a>;   </div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span>}<a class="code hl_struct" href="store_8h.html#structstorageBlock__T">storageBlock_T</a>;</div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span> </div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno"><a class="line" href="classstorageBlock__C.html">   38</a></span><span class="keyword">class </span><a class="code hl_class" href="classstorageBlock__C.html">storageBlock_C</a> {</div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span><span class="keyword">private</span>:</div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno"><a class="line" href="classstorageBlock__C.html#a8534147de81cd1c257a0ec727440213c">   40</a></span>    uint16_t <a class="code hl_variable" href="classstorageBlock__C.html#a8534147de81cd1c257a0ec727440213c">nextStartAddr</a>;     </div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno"><a class="line" href="classstorageBlock__C.html#ab6449bda89cd0dab792e60e5ee862939">   41</a></span>    <span class="keywordtype">byte</span> <a class="code hl_variable" href="classstorageBlock__C.html#ab6449bda89cd0dab792e60e5ee862939">maxBlocks</a>;         </div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno"><a class="line" href="classstorageBlock__C.html#af11fee6180446c962384ebe4c5d8eb11">   42</a></span>    <span class="keywordtype">byte</span> <a class="code hl_variable" href="classstorageBlock__C.html#af11fee6180446c962384ebe4c5d8eb11">slotsUsed</a> = 0;     </div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span><span class="keyword">public</span>:</div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno"><a class="line" href="classstorageBlock__C.html#a9069a91d9228649e3d3f67b5f40e182a">   44</a></span>    <a class="code hl_struct" href="store_8h.html#structstorageBlock__T">storageBlock_T</a>* <a class="code hl_variable" href="classstorageBlock__C.html#a9069a91d9228649e3d3f67b5f40e182a">blocksA</a>;    </div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span> </div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span>    <span class="comment">//setup</span></div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span>    <a class="code hl_function" href="classstorageBlock__C.html#a9020da58b3765ed6bd53da41c55b9eb7">storageBlock_C</a>(<span class="keywordtype">byte</span> <a class="code hl_variable" href="classstorageBlock__C.html#ab6449bda89cd0dab792e60e5ee862939">maxBlocks</a>, <a class="code hl_struct" href="store_8h.html#structstorageBlock__T">storageBlock_T</a> a[ ], <span class="keywordtype">byte</span> startIndex = 0);</div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span>    <a class="code hl_function" href="classstorageBlock__C.html#afe17040108c5d920b01d871585c150f8">~storageBlock_C</a>();</div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classstorageBlock__C.html#a0f4aa42b1755c6439528a6a6f72043f8">leaveFirst</a>(<span class="keywordtype">byte</span> i);</div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span>    <span class="keywordtype">byte</span> <a class="code hl_function" href="classstorageBlock__C.html#ac9ae09aee8e89280fd15dcae118a7783">addBlock</a>(<span class="keywordtype">byte</span> slots, <span class="keywordtype">byte</span> recSize);</div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span> </div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span>    <span class="comment">// block info.</span></div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span>    <span class="keywordtype">byte</span> <a class="code hl_function" href="classstorageBlock__C.html#ab118a805d45d5b6208fbd31dface7e39">blockSize</a>(<span class="keywordtype">byte</span> <span class="keywordtype">id</span>);</div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span>    word <a class="code hl_function" href="classstorageBlock__C.html#ad1486b9a48a2b2c4cb3cf16827cbb7a1">blockStart</a>(<span class="keywordtype">byte</span> blockId);</div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span>    word <a class="code hl_function" href="classstorageBlock__C.html#a2467b7e6f601f96efc42a6c32a023522">blockEnd</a>(<span class="keywordtype">byte</span> <span class="keywordtype">id</span>);</div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span> </div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span>    <span class="comment">// Working with a slot in a block.</span></div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno"><a class="line" href="classstorageBlock__C.html#acb749fa733b7000304b57fb659716497">   58</a></span>    <span class="keywordtype">byte</span> <a class="code hl_function" href="classstorageBlock__C.html#acb749fa733b7000304b57fb659716497">getSlots</a>(<span class="keywordtype">byte</span> <span class="keywordtype">id</span>) { <span class="keywordflow">return</span> <a class="code hl_variable" href="classstorageBlock__C.html#a9069a91d9228649e3d3f67b5f40e182a">blocksA</a>[id].<a class="code hl_variable" href="store_8h.html#a91392f39b00b69c871dcfbd57095b643">slots</a>; }</div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span>    <span class="keywordtype">byte</span> <a class="code hl_function" href="classstorageBlock__C.html#aee7a456279f8d306be97defb37320c35">readByte</a>(<span class="keywordtype">byte</span> blockId, <span class="keywordtype">byte</span> slot, <span class="keywordtype">byte</span> offset);</div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="classstorageBlock__C.html#a85ff9c2e220fa0a8e7c1d62f85a3cf39">readSlot</a>(<span class="keywordtype">byte</span> blockId, <span class="keywordtype">byte</span> slot, <span class="keywordtype">void</span>* r);</div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="classstorageBlock__C.html#abef785fcb0da67f1ca8dbf54cfc6491f">writeByte</a>(<span class="keywordtype">byte</span> blockId, <span class="keywordtype">byte</span> slot, <span class="keywordtype">byte</span> offset, <span class="keywordtype">byte</span> value);</div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="classstorageBlock__C.html#a7e258c73d18c8939ab2fcab66fcf6a64">writeSlot</a>(<span class="keywordtype">byte</span> blockId, <span class="keywordtype">byte</span> slot, <span class="keywordtype">void</span>* r);</div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span> </div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classstorageBlock__C.html#a5689bada4bede0c81ab36fe2f06cc9f0">print</a>(<span class="keywordtype">byte</span> <span class="keywordtype">id</span>);</div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classstorageBlock__C.html#a769366c10cb4f7a77f9098bca7be6256">printMemUsage</a>();</div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span>};</div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno"><a class="line" href="classblockMem__C.html">   73</a></span><span class="keyword">class </span><a class="code hl_class" href="classblockMem__C.html">blockMem_C</a> {</div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span><span class="keyword">private</span>:</div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno"><a class="line" href="classblockMem__C.html#a479845f6dc74b5d9a3abb29a7d69db7b">   75</a></span>    <span class="keywordtype">byte</span> <a class="code hl_variable" href="classblockMem__C.html#a479845f6dc74b5d9a3abb29a7d69db7b">id</a>;</div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno"><a class="line" href="classblockMem__C.html#a69d39ad66d8abfca22e21482b5cfe329">   76</a></span>    <a class="code hl_class" href="classstorageBlock__C.html">storageBlock_C</a>* <a class="code hl_variable" href="classblockMem__C.html#a69d39ad66d8abfca22e21482b5cfe329">memManager</a>;</div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno"><a class="line" href="classblockMem__C.html#ae2966e00bdc0b6ac8b5e7fb9eefd0cf2">   77</a></span>    <span class="keywordtype">byte</span> <a class="code hl_function" href="classblockMem__C.html#ae2966e00bdc0b6ac8b5e7fb9eefd0cf2">blockStart</a>() { <span class="keywordflow">return</span> <a class="code hl_variable" href="classblockMem__C.html#a69d39ad66d8abfca22e21482b5cfe329">memManager</a>-&gt;<a class="code hl_function" href="classstorageBlock__C.html#ad1486b9a48a2b2c4cb3cf16827cbb7a1">blockStart</a>(<span class="keywordtype">id</span>); }</div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno"><a class="line" href="classblockMem__C.html#a60818204acd6616f5513548b18b49a98">   78</a></span>    <span class="keywordtype">byte</span> <a class="code hl_function" href="classblockMem__C.html#a60818204acd6616f5513548b18b49a98">blockEnd</a>() { <span class="keywordflow">return</span> <a class="code hl_variable" href="classblockMem__C.html#a69d39ad66d8abfca22e21482b5cfe329">memManager</a>-&gt;<a class="code hl_function" href="classstorageBlock__C.html#a2467b7e6f601f96efc42a6c32a023522">blockEnd</a>(<span class="keywordtype">id</span>); }</div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span><span class="keyword">public</span>:</div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno"><a class="line" href="classblockMem__C.html#a0ca4c16b7ab37bdd713f9af4c39c9246">   80</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classblockMem__C.html#a0ca4c16b7ab37bdd713f9af4c39c9246">setId</a>(<span class="keywordtype">byte</span> id1) { <span class="keywordtype">id</span> = id1; }</div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno"><a class="line" href="classblockMem__C.html#a7d2f47edbc0961e8b84a9763d1b53429">   81</a></span>    <span class="keywordtype">byte</span> <a class="code hl_function" href="classblockMem__C.html#a7d2f47edbc0961e8b84a9763d1b53429">getId</a>() { <span class="keywordflow">return</span> <a class="code hl_variable" href="classblockMem__C.html#a479845f6dc74b5d9a3abb29a7d69db7b">id</a>; }</div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno"><a class="line" href="classblockMem__C.html#aa8522e68abf7be7e054bcab0081c01e6">   82</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classblockMem__C.html#aa8522e68abf7be7e054bcab0081c01e6">setMemManager</a>(<a class="code hl_class" href="classstorageBlock__C.html">storageBlock_C</a>&amp; o) { <a class="code hl_variable" href="classblockMem__C.html#a69d39ad66d8abfca22e21482b5cfe329">memManager</a> = &amp;o; }</div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno"><a class="line" href="classblockMem__C.html#a6ac5c94d5e447ba91f9a92766651ffd4">   83</a></span>    <span class="keywordtype">byte</span> <a class="code hl_function" href="classblockMem__C.html#a6ac5c94d5e447ba91f9a92766651ffd4">blockSize</a>() { <span class="keywordflow">return</span> <a class="code hl_variable" href="classblockMem__C.html#a69d39ad66d8abfca22e21482b5cfe329">memManager</a>-&gt;<a class="code hl_function" href="classstorageBlock__C.html#ab118a805d45d5b6208fbd31dface7e39">blockSize</a>(<span class="keywordtype">id</span>); }</div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno"><a class="line" href="classblockMem__C.html#abad38b2746fc7a01c61c597877c2c6d5">   84</a></span>    <span class="keywordtype">byte</span> <a class="code hl_function" href="classblockMem__C.html#abad38b2746fc7a01c61c597877c2c6d5">slotSize</a>() { <span class="keywordflow">return</span> <a class="code hl_variable" href="classblockMem__C.html#a69d39ad66d8abfca22e21482b5cfe329">memManager</a>-&gt;<a class="code hl_variable" href="classstorageBlock__C.html#a9069a91d9228649e3d3f67b5f40e182a">blocksA</a>[<a class="code hl_variable" href="classblockMem__C.html#a479845f6dc74b5d9a3abb29a7d69db7b">id</a>].<a class="code hl_variable" href="store_8h.html#a4c0d47a86eb54a54bdc30f23b0d648fc">size</a>; }</div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno"><a class="line" href="classblockMem__C.html#a553a53a98f4ef6f9b6f1f7b69d366214">   85</a></span>    <span class="keywordtype">byte</span> <a class="code hl_function" href="classblockMem__C.html#a553a53a98f4ef6f9b6f1f7b69d366214">readByte</a>(<span class="keywordtype">byte</span> slot, <span class="keywordtype">byte</span> offset) { <span class="keywordflow">return</span> <a class="code hl_variable" href="classblockMem__C.html#a69d39ad66d8abfca22e21482b5cfe329">memManager</a>-&gt;<a class="code hl_function" href="classstorageBlock__C.html#aee7a456279f8d306be97defb37320c35">readByte</a>(<span class="keywordtype">id</span>, slot, offset); }</div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="classblockMem__C.html#a22a8e8952d4df256c9ff7333824fc90f">readSlot</a>(<span class="keywordtype">byte</span> slot, <span class="keywordtype">void</span>* r);</div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno"><a class="line" href="classblockMem__C.html#a384e3788e132d1ba9fac1b8c93fab642">   87</a></span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="classblockMem__C.html#a384e3788e132d1ba9fac1b8c93fab642">writeByte</a>(<span class="keywordtype">byte</span> slot, <span class="keywordtype">byte</span> offset, <span class="keywordtype">byte</span> value) { <span class="keywordflow">return</span> <a class="code hl_variable" href="classblockMem__C.html#a69d39ad66d8abfca22e21482b5cfe329">memManager</a>-&gt;<a class="code hl_function" href="classstorageBlock__C.html#abef785fcb0da67f1ca8dbf54cfc6491f">writeByte</a>(<span class="keywordtype">id</span>, slot, offset, value); }</div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno"><a class="line" href="classblockMem__C.html#ae8b068f64f2b0dc1c74a278fd8f6b954">   88</a></span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="classblockMem__C.html#ae8b068f64f2b0dc1c74a278fd8f6b954">writeSlot</a>(<span class="keywordtype">byte</span> slot, <span class="keywordtype">void</span>* r) { <span class="keywordflow">return</span> <a class="code hl_variable" href="classblockMem__C.html#a69d39ad66d8abfca22e21482b5cfe329">memManager</a>-&gt;<a class="code hl_function" href="classstorageBlock__C.html#a7e258c73d18c8939ab2fcab66fcf6a64">writeSlot</a>(<span class="keywordtype">id</span>, slot, r); }</div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno"><a class="line" href="classblockMem__C.html#a9230be465ff59edbed66fe536b3df2be">   89</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classblockMem__C.html#a9230be465ff59edbed66fe536b3df2be">print</a>() { <span class="keywordflow">return</span> <a class="code hl_variable" href="classblockMem__C.html#a69d39ad66d8abfca22e21482b5cfe329">memManager</a>-&gt;<a class="code hl_function" href="classstorageBlock__C.html#a5689bada4bede0c81ab36fe2f06cc9f0">print</a>(<span class="keywordtype">id</span>); }</div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno"><a class="line" href="classblockMem__C.html#ab00c3bdc52c49a26f8b6931f9af058ab">   90</a></span>    <span class="keywordtype">byte</span> <a class="code hl_function" href="classblockMem__C.html#ab00c3bdc52c49a26f8b6931f9af058ab">getSlots</a>() { <span class="keywordflow">return</span> <a class="code hl_variable" href="classblockMem__C.html#a69d39ad66d8abfca22e21482b5cfe329">memManager</a>-&gt;<a class="code hl_function" href="classstorageBlock__C.html#acb749fa733b7000304b57fb659716497">getSlots</a>(<span class="keywordtype">id</span>);; }</div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span>};</div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span> </div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span> </div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span> </div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span> </div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno"><a class="line" href="store_8h.html#a0eee8221fc0e018111a612d1c2a28523">   96</a></span><span class="preprocessor">#define sBlocks(S) static storageBlock_T storageBlocksA[S]; maxStorageBlocks = S;</span></div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span> </div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span><span class="preprocessor">#endif</span></div>
<div class="ttc" id="aclassblockMem__C_html"><div class="ttname"><a href="classblockMem__C.html">blockMem_C</a></div><div class="ttdoc">Wrapper for storageBlock_C but working with only 1 block id(eg all the 1wire chips saved info).</div><div class="ttdef"><b>Definition:</b> <a href="store_8h_source.html#l00073">store.h:73</a></div></div>
<div class="ttc" id="aclassblockMem__C_html_a0ca4c16b7ab37bdd713f9af4c39c9246"><div class="ttname"><a href="classblockMem__C.html#a0ca4c16b7ab37bdd713f9af4c39c9246">blockMem_C::setId</a></div><div class="ttdeci">void setId(byte id1)</div><div class="ttdef"><b>Definition:</b> <a href="store_8h_source.html#l00080">store.h:80</a></div></div>
<div class="ttc" id="aclassblockMem__C_html_a22a8e8952d4df256c9ff7333824fc90f"><div class="ttname"><a href="classblockMem__C.html#a22a8e8952d4df256c9ff7333824fc90f">blockMem_C::readSlot</a></div><div class="ttdeci">bool readSlot(byte slot, void *r)</div><div class="ttdoc">Read a slot of data from storage. e.g. eeprom, flash, SDcard(only eeprom for now)</div><div class="ttdef"><b>Definition:</b> <a href="store_8cpp_source.html#l00216">store.cpp:216</a></div></div>
<div class="ttc" id="aclassblockMem__C_html_a384e3788e132d1ba9fac1b8c93fab642"><div class="ttname"><a href="classblockMem__C.html#a384e3788e132d1ba9fac1b8c93fab642">blockMem_C::writeByte</a></div><div class="ttdeci">bool writeByte(byte slot, byte offset, byte value)</div><div class="ttdef"><b>Definition:</b> <a href="store_8h_source.html#l00087">store.h:87</a></div></div>
<div class="ttc" id="aclassblockMem__C_html_a479845f6dc74b5d9a3abb29a7d69db7b"><div class="ttname"><a href="classblockMem__C.html#a479845f6dc74b5d9a3abb29a7d69db7b">blockMem_C::id</a></div><div class="ttdeci">byte id</div><div class="ttdef"><b>Definition:</b> <a href="store_8h_source.html#l00075">store.h:75</a></div></div>
<div class="ttc" id="aclassblockMem__C_html_a553a53a98f4ef6f9b6f1f7b69d366214"><div class="ttname"><a href="classblockMem__C.html#a553a53a98f4ef6f9b6f1f7b69d366214">blockMem_C::readByte</a></div><div class="ttdeci">byte readByte(byte slot, byte offset)</div><div class="ttdef"><b>Definition:</b> <a href="store_8h_source.html#l00085">store.h:85</a></div></div>
<div class="ttc" id="aclassblockMem__C_html_a60818204acd6616f5513548b18b49a98"><div class="ttname"><a href="classblockMem__C.html#a60818204acd6616f5513548b18b49a98">blockMem_C::blockEnd</a></div><div class="ttdeci">byte blockEnd()</div><div class="ttdef"><b>Definition:</b> <a href="store_8h_source.html#l00078">store.h:78</a></div></div>
<div class="ttc" id="aclassblockMem__C_html_a69d39ad66d8abfca22e21482b5cfe329"><div class="ttname"><a href="classblockMem__C.html#a69d39ad66d8abfca22e21482b5cfe329">blockMem_C::memManager</a></div><div class="ttdeci">storageBlock_C * memManager</div><div class="ttdef"><b>Definition:</b> <a href="store_8h_source.html#l00076">store.h:76</a></div></div>
<div class="ttc" id="aclassblockMem__C_html_a6ac5c94d5e447ba91f9a92766651ffd4"><div class="ttname"><a href="classblockMem__C.html#a6ac5c94d5e447ba91f9a92766651ffd4">blockMem_C::blockSize</a></div><div class="ttdeci">byte blockSize()</div><div class="ttdef"><b>Definition:</b> <a href="store_8h_source.html#l00083">store.h:83</a></div></div>
<div class="ttc" id="aclassblockMem__C_html_a7d2f47edbc0961e8b84a9763d1b53429"><div class="ttname"><a href="classblockMem__C.html#a7d2f47edbc0961e8b84a9763d1b53429">blockMem_C::getId</a></div><div class="ttdeci">byte getId()</div><div class="ttdef"><b>Definition:</b> <a href="store_8h_source.html#l00081">store.h:81</a></div></div>
<div class="ttc" id="aclassblockMem__C_html_a9230be465ff59edbed66fe536b3df2be"><div class="ttname"><a href="classblockMem__C.html#a9230be465ff59edbed66fe536b3df2be">blockMem_C::print</a></div><div class="ttdeci">void print()</div><div class="ttdef"><b>Definition:</b> <a href="store_8h_source.html#l00089">store.h:89</a></div></div>
<div class="ttc" id="aclassblockMem__C_html_aa8522e68abf7be7e054bcab0081c01e6"><div class="ttname"><a href="classblockMem__C.html#aa8522e68abf7be7e054bcab0081c01e6">blockMem_C::setMemManager</a></div><div class="ttdeci">void setMemManager(storageBlock_C &amp;o)</div><div class="ttdef"><b>Definition:</b> <a href="store_8h_source.html#l00082">store.h:82</a></div></div>
<div class="ttc" id="aclassblockMem__C_html_ab00c3bdc52c49a26f8b6931f9af058ab"><div class="ttname"><a href="classblockMem__C.html#ab00c3bdc52c49a26f8b6931f9af058ab">blockMem_C::getSlots</a></div><div class="ttdeci">byte getSlots()</div><div class="ttdef"><b>Definition:</b> <a href="store_8h_source.html#l00090">store.h:90</a></div></div>
<div class="ttc" id="aclassblockMem__C_html_abad38b2746fc7a01c61c597877c2c6d5"><div class="ttname"><a href="classblockMem__C.html#abad38b2746fc7a01c61c597877c2c6d5">blockMem_C::slotSize</a></div><div class="ttdeci">byte slotSize()</div><div class="ttdoc">mem for block = number of slots * slot size.</div><div class="ttdef"><b>Definition:</b> <a href="store_8h_source.html#l00084">store.h:84</a></div></div>
<div class="ttc" id="aclassblockMem__C_html_ae2966e00bdc0b6ac8b5e7fb9eefd0cf2"><div class="ttname"><a href="classblockMem__C.html#ae2966e00bdc0b6ac8b5e7fb9eefd0cf2">blockMem_C::blockStart</a></div><div class="ttdeci">byte blockStart()</div><div class="ttdef"><b>Definition:</b> <a href="store_8h_source.html#l00077">store.h:77</a></div></div>
<div class="ttc" id="aclassblockMem__C_html_ae8b068f64f2b0dc1c74a278fd8f6b954"><div class="ttname"><a href="classblockMem__C.html#ae8b068f64f2b0dc1c74a278fd8f6b954">blockMem_C::writeSlot</a></div><div class="ttdeci">bool writeSlot(byte slot, void *r)</div><div class="ttdef"><b>Definition:</b> <a href="store_8h_source.html#l00088">store.h:88</a></div></div>
<div class="ttc" id="aclassstorageBlock__C_html"><div class="ttname"><a href="classstorageBlock__C.html">storageBlock_C</a></div><div class="ttdoc">Blocks of storage. eg. 1 block for 1wire chips and another for room data. each of different lengths w...</div><div class="ttdef"><b>Definition:</b> <a href="store_8h_source.html#l00038">store.h:38</a></div></div>
<div class="ttc" id="aclassstorageBlock__C_html_a0f4aa42b1755c6439528a6a6f72043f8"><div class="ttname"><a href="classstorageBlock__C.html#a0f4aa42b1755c6439528a6a6f72043f8">storageBlock_C::leaveFirst</a></div><div class="ttdeci">void leaveFirst(byte i)</div><div class="ttdoc">Set the address to start using storage at.</div><div class="ttdef"><b>Definition:</b> <a href="store_8cpp_source.html#l00061">store.cpp:61</a></div></div>
<div class="ttc" id="aclassstorageBlock__C_html_a2467b7e6f601f96efc42a6c32a023522"><div class="ttname"><a href="classstorageBlock__C.html#a2467b7e6f601f96efc42a6c32a023522">storageBlock_C::blockEnd</a></div><div class="ttdeci">word blockEnd(byte id)</div><div class="ttdoc">get block end index. i.e. the address of last byte used by the block. If block size is 0 there isn't ...</div><div class="ttdef"><b>Definition:</b> <a href="store_8cpp_source.html#l00048">store.cpp:48</a></div></div>
<div class="ttc" id="aclassstorageBlock__C_html_a5689bada4bede0c81ab36fe2f06cc9f0"><div class="ttname"><a href="classstorageBlock__C.html#a5689bada4bede0c81ab36fe2f06cc9f0">storageBlock_C::print</a></div><div class="ttdeci">void print(byte id)</div><div class="ttdoc">print info about the storage block to the serial.</div><div class="ttdef"><b>Definition:</b> <a href="store_8cpp_source.html#l00070">store.cpp:70</a></div></div>
<div class="ttc" id="aclassstorageBlock__C_html_a769366c10cb4f7a77f9098bca7be6256"><div class="ttname"><a href="classstorageBlock__C.html#a769366c10cb4f7a77f9098bca7be6256">storageBlock_C::printMemUsage</a></div><div class="ttdeci">void printMemUsage()</div><div class="ttdef"><b>Definition:</b> <a href="store_8cpp_source.html#l00077">store.cpp:77</a></div></div>
<div class="ttc" id="aclassstorageBlock__C_html_a7e258c73d18c8939ab2fcab66fcf6a64"><div class="ttname"><a href="classstorageBlock__C.html#a7e258c73d18c8939ab2fcab66fcf6a64">storageBlock_C::writeSlot</a></div><div class="ttdeci">bool writeSlot(byte blockId, byte slot, void *r)</div><div class="ttdoc">Write a var into permanent storage eg. EEPROM into a var/struct, copys mem of size = to the slot size...</div><div class="ttdef"><b>Definition:</b> <a href="store_8cpp_source.html#l00185">store.cpp:185</a></div></div>
<div class="ttc" id="aclassstorageBlock__C_html_a8534147de81cd1c257a0ec727440213c"><div class="ttname"><a href="classstorageBlock__C.html#a8534147de81cd1c257a0ec727440213c">storageBlock_C::nextStartAddr</a></div><div class="ttdeci">uint16_t nextStartAddr</div><div class="ttdef"><b>Definition:</b> <a href="store_8h_source.html#l00040">store.h:40</a></div></div>
<div class="ttc" id="aclassstorageBlock__C_html_a85ff9c2e220fa0a8e7c1d62f85a3cf39"><div class="ttname"><a href="classstorageBlock__C.html#a85ff9c2e220fa0a8e7c1d62f85a3cf39">storageBlock_C::readSlot</a></div><div class="ttdeci">bool readSlot(byte blockId, byte slot, void *r)</div><div class="ttdoc">Read a var from permanent storage eg. EEPROM into a var/struct, copys mem of size = to the slot size ...</div><div class="ttdef"><b>Definition:</b> <a href="store_8cpp_source.html#l00152">store.cpp:152</a></div></div>
<div class="ttc" id="aclassstorageBlock__C_html_a9020da58b3765ed6bd53da41c55b9eb7"><div class="ttname"><a href="classstorageBlock__C.html#a9020da58b3765ed6bd53da41c55b9eb7">storageBlock_C::storageBlock_C</a></div><div class="ttdeci">storageBlock_C(byte maxBlocks, storageBlock_T a[], byte startIndex=0)</div><div class="ttdoc">Pointer to an array used to store each slots details in.</div><div class="ttdef"><b>Definition:</b> <a href="store_8cpp_source.html#l00024">store.cpp:24</a></div></div>
<div class="ttc" id="aclassstorageBlock__C_html_a9069a91d9228649e3d3f67b5f40e182a"><div class="ttname"><a href="classstorageBlock__C.html#a9069a91d9228649e3d3f67b5f40e182a">storageBlock_C::blocksA</a></div><div class="ttdeci">storageBlock_T * blocksA</div><div class="ttdoc">No. of elements of blocksA[] used.</div><div class="ttdef"><b>Definition:</b> <a href="store_8h_source.html#l00044">store.h:44</a></div></div>
<div class="ttc" id="aclassstorageBlock__C_html_ab118a805d45d5b6208fbd31dface7e39"><div class="ttname"><a href="classstorageBlock__C.html#ab118a805d45d5b6208fbd31dface7e39">storageBlock_C::blockSize</a></div><div class="ttdeci">byte blockSize(byte id)</div><div class="ttdoc">get the storage space size in bytes reserved for the block.</div><div class="ttdef"><b>Definition:</b> <a href="store_8cpp_source.html#l00037">store.cpp:37</a></div></div>
<div class="ttc" id="aclassstorageBlock__C_html_ab6449bda89cd0dab792e60e5ee862939"><div class="ttname"><a href="classstorageBlock__C.html#ab6449bda89cd0dab792e60e5ee862939">storageBlock_C::maxBlocks</a></div><div class="ttdeci">byte maxBlocks</div><div class="ttdoc">The address/index to start at for any new block.</div><div class="ttdef"><b>Definition:</b> <a href="store_8h_source.html#l00041">store.h:41</a></div></div>
<div class="ttc" id="aclassstorageBlock__C_html_abef785fcb0da67f1ca8dbf54cfc6491f"><div class="ttname"><a href="classstorageBlock__C.html#abef785fcb0da67f1ca8dbf54cfc6491f">storageBlock_C::writeByte</a></div><div class="ttdeci">bool writeByte(byte blockId, byte slot, byte offset, byte value)</div><div class="ttdef"><b>Definition:</b> <a href="store_8cpp_source.html#l00196">store.cpp:196</a></div></div>
<div class="ttc" id="aclassstorageBlock__C_html_ac9ae09aee8e89280fd15dcae118a7783"><div class="ttname"><a href="classstorageBlock__C.html#ac9ae09aee8e89280fd15dcae118a7783">storageBlock_C::addBlock</a></div><div class="ttdeci">byte addBlock(byte slots, byte recSize)</div><div class="ttdoc">Add a storage block.</div><div class="ttdef"><b>Definition:</b> <a href="store_8cpp_source.html#l00107">store.cpp:107</a></div></div>
<div class="ttc" id="aclassstorageBlock__C_html_acb749fa733b7000304b57fb659716497"><div class="ttname"><a href="classstorageBlock__C.html#acb749fa733b7000304b57fb659716497">storageBlock_C::getSlots</a></div><div class="ttdeci">byte getSlots(byte id)</div><div class="ttdef"><b>Definition:</b> <a href="store_8h_source.html#l00058">store.h:58</a></div></div>
<div class="ttc" id="aclassstorageBlock__C_html_ad1486b9a48a2b2c4cb3cf16827cbb7a1"><div class="ttname"><a href="classstorageBlock__C.html#ad1486b9a48a2b2c4cb3cf16827cbb7a1">storageBlock_C::blockStart</a></div><div class="ttdeci">word blockStart(byte blockId)</div><div class="ttdoc">Get the storage block start address.</div><div class="ttdef"><b>Definition:</b> <a href="store_8cpp_source.html#l00122">store.cpp:122</a></div></div>
<div class="ttc" id="aclassstorageBlock__C_html_aee7a456279f8d306be97defb37320c35"><div class="ttname"><a href="classstorageBlock__C.html#aee7a456279f8d306be97defb37320c35">storageBlock_C::readByte</a></div><div class="ttdeci">byte readByte(byte blockId, byte slot, byte offset)</div><div class="ttdoc">Read a byte of data from a storage block slot.</div><div class="ttdef"><b>Definition:</b> <a href="store_8cpp_source.html#l00134">store.cpp:134</a></div></div>
<div class="ttc" id="aclassstorageBlock__C_html_af11fee6180446c962384ebe4c5d8eb11"><div class="ttname"><a href="classstorageBlock__C.html#af11fee6180446c962384ebe4c5d8eb11">storageBlock_C::slotsUsed</a></div><div class="ttdeci">byte slotsUsed</div><div class="ttdoc">The max No. Blocks. The number of array elements in the array used to store the block info in (blocks...</div><div class="ttdef"><b>Definition:</b> <a href="store_8h_source.html#l00042">store.h:42</a></div></div>
<div class="ttc" id="aclassstorageBlock__C_html_afe17040108c5d920b01d871585c150f8"><div class="ttname"><a href="classstorageBlock__C.html#afe17040108c5d920b01d871585c150f8">storageBlock_C::~storageBlock_C</a></div><div class="ttdeci">~storageBlock_C()</div><div class="ttdef"><b>Definition:</b> <a href="store_8cpp_source.html#l00029">store.cpp:29</a></div></div>
<div class="ttc" id="astore_8h_html_a140e81ed333b945f2430230e7da23f45"><div class="ttname"><a href="store_8h.html#a140e81ed333b945f2430230e7da23f45">storageBlock_T::start</a></div><div class="ttdeci">word start</div><div class="ttdef"><b>Definition:</b> <a href="store_8h_source.html#l00025">store.h:25</a></div></div>
<div class="ttc" id="astore_8h_html_a4c0d47a86eb54a54bdc30f23b0d648fc"><div class="ttname"><a href="store_8h.html#a4c0d47a86eb54a54bdc30f23b0d648fc">storageBlock_T::size</a></div><div class="ttdeci">byte size</div><div class="ttdoc">sizeof each storage slot in bytes.</div><div class="ttdef"><b>Definition:</b> <a href="store_8h_source.html#l00027">store.h:27</a></div></div>
<div class="ttc" id="astore_8h_html_a91392f39b00b69c871dcfbd57095b643"><div class="ttname"><a href="store_8h.html#a91392f39b00b69c871dcfbd57095b643">storageBlock_T::slots</a></div><div class="ttdeci">byte slots</div><div class="ttdoc">EEprom start index.</div><div class="ttdef"><b>Definition:</b> <a href="store_8h_source.html#l00026">store.h:26</a></div></div>
<div class="ttc" id="astore_8h_html_structstorageBlock__T"><div class="ttname"><a href="store_8h.html#structstorageBlock__T">storageBlock_T</a></div><div class="ttdoc">Storage block TYPE info.</div><div class="ttdef"><b>Definition:</b> <a href="store_8h_source.html#l00024">store.h:24</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="store_8h.html">store.h</a></li>
    <li class="footer">Generated on Mon Jun 6 2022 21:15:56 for arduino store by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3 </li>
  </ul>
</div>
</body>
</html>
