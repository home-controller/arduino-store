<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>arduino store: storageBlock_C Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">arduino store<span id="projectnumber">&#160;0.0.2</span>
   </div>
   <div id="projectbrief">Store data permanently. Only EEPROM for now but planning to add more.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classstorage_block___c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classstorage_block___c-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">storageBlock_C Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Blocks of storage. eg. 1 block for 1wire chips and another for room data. each of different lengths with different ids.  
 <a href="classstorage_block___c.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="store_8h_source.html">store.h</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Collaboration diagram for storageBlock_C:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classstorage_block___c__coll__graph.png" border="0" usemap="#astorage_block___c_coll__map" alt="Collaboration graph"/></div>
<map name="astorage_block___c_coll__map" id="astorage_block___c_coll__map">
<area shape="rect" title="Blocks of storage. eg. 1 block for 1wire chips and another for room data. each of different lengths w..." alt="" coords="96,201,219,228"/>
<area shape="rect" title=" " alt="" coords="5,111,80,137"/>
<area shape="rect" title=" " alt="" coords="175,5,225,32"/>
<area shape="rect" href="store_8h.html#structstorage_block___t" title="Storage block TYPE info." alt="" coords="259,111,381,137"/>
<area shape="rect" title=" " alt="" coords="293,5,347,32"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a9020da58b3765ed6bd53da41c55b9eb7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstorage_block___c.html#a9020da58b3765ed6bd53da41c55b9eb7">storageBlock_C</a> (byte <a class="el" href="classstorage_block___c.html#ab6449bda89cd0dab792e60e5ee862939">maxBlocks</a>, <a class="el" href="store_8h.html#structstorage_block___t">storageBlock_T</a> a[], byte startIndex=0)</td></tr>
<tr class="memdesc:a9020da58b3765ed6bd53da41c55b9eb7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to an array used to store each slots details in.  <a href="classstorage_block___c.html#a9020da58b3765ed6bd53da41c55b9eb7">More...</a><br /></td></tr>
<tr class="separator:a9020da58b3765ed6bd53da41c55b9eb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe17040108c5d920b01d871585c150f8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstorage_block___c.html#afe17040108c5d920b01d871585c150f8">~storageBlock_C</a> ()</td></tr>
<tr class="separator:afe17040108c5d920b01d871585c150f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f4aa42b1755c6439528a6a6f72043f8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstorage_block___c.html#a0f4aa42b1755c6439528a6a6f72043f8">leaveFirst</a> (byte i)</td></tr>
<tr class="memdesc:a0f4aa42b1755c6439528a6a6f72043f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the address to start using storage at.  <a href="classstorage_block___c.html#a0f4aa42b1755c6439528a6a6f72043f8">More...</a><br /></td></tr>
<tr class="separator:a0f4aa42b1755c6439528a6a6f72043f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9ae09aee8e89280fd15dcae118a7783"><td class="memItemLeft" align="right" valign="top">byte&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstorage_block___c.html#ac9ae09aee8e89280fd15dcae118a7783">addBlock</a> (byte slots, byte recSize)</td></tr>
<tr class="memdesc:ac9ae09aee8e89280fd15dcae118a7783"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a storage block.  <a href="classstorage_block___c.html#ac9ae09aee8e89280fd15dcae118a7783">More...</a><br /></td></tr>
<tr class="separator:ac9ae09aee8e89280fd15dcae118a7783"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab118a805d45d5b6208fbd31dface7e39"><td class="memItemLeft" align="right" valign="top">byte&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstorage_block___c.html#ab118a805d45d5b6208fbd31dface7e39">blockSize</a> (byte id)</td></tr>
<tr class="memdesc:ab118a805d45d5b6208fbd31dface7e39"><td class="mdescLeft">&#160;</td><td class="mdescRight">get the storage space size in bytes reserved for the block.  <a href="classstorage_block___c.html#ab118a805d45d5b6208fbd31dface7e39">More...</a><br /></td></tr>
<tr class="separator:ab118a805d45d5b6208fbd31dface7e39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1486b9a48a2b2c4cb3cf16827cbb7a1"><td class="memItemLeft" align="right" valign="top">word&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstorage_block___c.html#ad1486b9a48a2b2c4cb3cf16827cbb7a1">blockStart</a> (byte blockId)</td></tr>
<tr class="memdesc:ad1486b9a48a2b2c4cb3cf16827cbb7a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the storage block start address.  <a href="classstorage_block___c.html#ad1486b9a48a2b2c4cb3cf16827cbb7a1">More...</a><br /></td></tr>
<tr class="separator:ad1486b9a48a2b2c4cb3cf16827cbb7a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2467b7e6f601f96efc42a6c32a023522"><td class="memItemLeft" align="right" valign="top">word&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstorage_block___c.html#a2467b7e6f601f96efc42a6c32a023522">blockEnd</a> (byte id)</td></tr>
<tr class="memdesc:a2467b7e6f601f96efc42a6c32a023522"><td class="mdescLeft">&#160;</td><td class="mdescRight">get block end index. i.e. the address of last byte used by the block. If block size is 0 there isn't a block end so result will be meaningless.  <a href="classstorage_block___c.html#a2467b7e6f601f96efc42a6c32a023522">More...</a><br /></td></tr>
<tr class="separator:a2467b7e6f601f96efc42a6c32a023522"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb749fa733b7000304b57fb659716497"><td class="memItemLeft" align="right" valign="top">byte&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstorage_block___c.html#acb749fa733b7000304b57fb659716497">getSlots</a> (byte id)</td></tr>
<tr class="separator:acb749fa733b7000304b57fb659716497"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee7a456279f8d306be97defb37320c35"><td class="memItemLeft" align="right" valign="top">byte&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstorage_block___c.html#aee7a456279f8d306be97defb37320c35">readByte</a> (byte blockId, byte slot, byte offset)</td></tr>
<tr class="memdesc:aee7a456279f8d306be97defb37320c35"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read a byte of data from a storage block slot.  <a href="classstorage_block___c.html#aee7a456279f8d306be97defb37320c35">More...</a><br /></td></tr>
<tr class="separator:aee7a456279f8d306be97defb37320c35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85ff9c2e220fa0a8e7c1d62f85a3cf39"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstorage_block___c.html#a85ff9c2e220fa0a8e7c1d62f85a3cf39">readSlot</a> (byte blockId, byte slot, void *r)</td></tr>
<tr class="memdesc:a85ff9c2e220fa0a8e7c1d62f85a3cf39"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read a var from permanent storage eg. EEPROM into a var/struct, copys mem of size = to the slot size given when addBlock was called.  <a href="classstorage_block___c.html#a85ff9c2e220fa0a8e7c1d62f85a3cf39">More...</a><br /></td></tr>
<tr class="separator:a85ff9c2e220fa0a8e7c1d62f85a3cf39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abef785fcb0da67f1ca8dbf54cfc6491f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstorage_block___c.html#abef785fcb0da67f1ca8dbf54cfc6491f">writeByte</a> (byte blockId, byte slot, byte offset, byte value)</td></tr>
<tr class="separator:abef785fcb0da67f1ca8dbf54cfc6491f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e258c73d18c8939ab2fcab66fcf6a64"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstorage_block___c.html#a7e258c73d18c8939ab2fcab66fcf6a64">writeSlot</a> (byte blockId, byte slot, void *r)</td></tr>
<tr class="memdesc:a7e258c73d18c8939ab2fcab66fcf6a64"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write a var into permanent storage eg. EEPROM into a var/struct, copys mem of size = to the slot size given when addBlock was called.  <a href="classstorage_block___c.html#a7e258c73d18c8939ab2fcab66fcf6a64">More...</a><br /></td></tr>
<tr class="separator:a7e258c73d18c8939ab2fcab66fcf6a64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5689bada4bede0c81ab36fe2f06cc9f0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstorage_block___c.html#a5689bada4bede0c81ab36fe2f06cc9f0">print</a> (byte id)</td></tr>
<tr class="memdesc:a5689bada4bede0c81ab36fe2f06cc9f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">print info about the storage block to the serial.  <a href="classstorage_block___c.html#a5689bada4bede0c81ab36fe2f06cc9f0">More...</a><br /></td></tr>
<tr class="separator:a5689bada4bede0c81ab36fe2f06cc9f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a769366c10cb4f7a77f9098bca7be6256"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstorage_block___c.html#a769366c10cb4f7a77f9098bca7be6256">printMemUsage</a> ()</td></tr>
<tr class="separator:a769366c10cb4f7a77f9098bca7be6256"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a9069a91d9228649e3d3f67b5f40e182a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="store_8h.html#structstorage_block___t">storageBlock_T</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstorage_block___c.html#a9069a91d9228649e3d3f67b5f40e182a">blocksA</a></td></tr>
<tr class="memdesc:a9069a91d9228649e3d3f67b5f40e182a"><td class="mdescLeft">&#160;</td><td class="mdescRight">No. of elements of blocksA[] used.  <a href="classstorage_block___c.html#a9069a91d9228649e3d3f67b5f40e182a">More...</a><br /></td></tr>
<tr class="separator:a9069a91d9228649e3d3f67b5f40e182a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a8534147de81cd1c257a0ec727440213c"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstorage_block___c.html#a8534147de81cd1c257a0ec727440213c">nextStartAddr</a></td></tr>
<tr class="separator:a8534147de81cd1c257a0ec727440213c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6449bda89cd0dab792e60e5ee862939"><td class="memItemLeft" align="right" valign="top">byte&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstorage_block___c.html#ab6449bda89cd0dab792e60e5ee862939">maxBlocks</a></td></tr>
<tr class="memdesc:ab6449bda89cd0dab792e60e5ee862939"><td class="mdescLeft">&#160;</td><td class="mdescRight">The address/index to start at for any new block.  <a href="classstorage_block___c.html#ab6449bda89cd0dab792e60e5ee862939">More...</a><br /></td></tr>
<tr class="separator:ab6449bda89cd0dab792e60e5ee862939"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af11fee6180446c962384ebe4c5d8eb11"><td class="memItemLeft" align="right" valign="top">byte&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstorage_block___c.html#af11fee6180446c962384ebe4c5d8eb11">slotsUsed</a> = 0</td></tr>
<tr class="memdesc:af11fee6180446c962384ebe4c5d8eb11"><td class="mdescLeft">&#160;</td><td class="mdescRight">The max No. Blocks. The number of array elements in the array used to store the block info in (blocksA).  <a href="classstorage_block___c.html#af11fee6180446c962384ebe4c5d8eb11">More...</a><br /></td></tr>
<tr class="separator:af11fee6180446c962384ebe4c5d8eb11"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Blocks of storage. eg. 1 block for 1wire chips and another for room data. each of different lengths with different ids. </p>
<p >Each blocks info if stored in a extern array. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">maxBlocks</td><td>The size of the array. </td></tr>
    <tr><td class="paramname">a</td><td>a pointer to an extern array used to store the storage info. </td></tr>
    <tr><td class="paramname">startIndex</td><td>for example with eeprom it could be 15 to stat using the eeprom at address 15; </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="store_8h_source.html#l00038">38</a> of file <a class="el" href="store_8h_source.html">store.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a9020da58b3765ed6bd53da41c55b9eb7" name="a9020da58b3765ed6bd53da41c55b9eb7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9020da58b3765ed6bd53da41c55b9eb7">&#9670;&nbsp;</a></span>storageBlock_C()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">storageBlock_C::storageBlock_C </td>
          <td>(</td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>maxBlocks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="store_8h.html#structstorage_block___t">storageBlock_T</a>&#160;</td>
          <td class="paramname"><em>a</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>startIndex</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pointer to an array used to store each slots details in. </p>
<p >Construct a new storageBlock class object.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">maxBlocks</td><td>size of the array a[] in elements(not bytes). </td></tr>
    <tr><td class="paramname">a</td><td>Pointer to an array to store the storage block info in. </td></tr>
    <tr><td class="paramname">startIndex</td><td>index to start using the storage media at. eg. with eeprom, use 15 to skip the first 15 bytes of memory. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="store_8cpp_source.html#l00024">24</a> of file <a class="el" href="store_8cpp_source.html">store.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   24</span>                                                                                     {</div>
<div class="line"><span class="lineno">   25</span>    <a class="code hl_variable" href="classstorage_block___c.html#a9069a91d9228649e3d3f67b5f40e182a">blocksA</a> = a;</div>
<div class="line"><span class="lineno">   26</span>    <a class="code hl_variable" href="classstorage_block___c.html#ab6449bda89cd0dab792e60e5ee862939">maxBlocks</a> = <a class="code hl_variable" href="classstorage_block___c.html#ab6449bda89cd0dab792e60e5ee862939">maxBlocks</a>;</div>
<div class="line"><span class="lineno">   27</span>    <a class="code hl_variable" href="classstorage_block___c.html#a8534147de81cd1c257a0ec727440213c">nextStartAddr</a> = startIndex;</div>
<div class="line"><span class="lineno">   28</span>}</div>
<div class="ttc" id="aclassstorage_block___c_html_a8534147de81cd1c257a0ec727440213c"><div class="ttname"><a href="classstorage_block___c.html#a8534147de81cd1c257a0ec727440213c">storageBlock_C::nextStartAddr</a></div><div class="ttdeci">uint16_t nextStartAddr</div><div class="ttdef"><b>Definition:</b> <a href="store_8h_source.html#l00040">store.h:40</a></div></div>
<div class="ttc" id="aclassstorage_block___c_html_a9069a91d9228649e3d3f67b5f40e182a"><div class="ttname"><a href="classstorage_block___c.html#a9069a91d9228649e3d3f67b5f40e182a">storageBlock_C::blocksA</a></div><div class="ttdeci">storageBlock_T * blocksA</div><div class="ttdoc">No. of elements of blocksA[] used.</div><div class="ttdef"><b>Definition:</b> <a href="store_8h_source.html#l00044">store.h:44</a></div></div>
<div class="ttc" id="aclassstorage_block___c_html_ab6449bda89cd0dab792e60e5ee862939"><div class="ttname"><a href="classstorage_block___c.html#ab6449bda89cd0dab792e60e5ee862939">storageBlock_C::maxBlocks</a></div><div class="ttdeci">byte maxBlocks</div><div class="ttdoc">The address/index to start at for any new block.</div><div class="ttdef"><b>Definition:</b> <a href="store_8h_source.html#l00041">store.h:41</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="store_8h_source.html#l00044">blocksA</a>, <a class="el" href="store_8h_source.html#l00041">maxBlocks</a>, and <a class="el" href="store_8h_source.html#l00040">nextStartAddr</a>.</p>

</div>
</div>
<a id="afe17040108c5d920b01d871585c150f8" name="afe17040108c5d920b01d871585c150f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe17040108c5d920b01d871585c150f8">&#9670;&nbsp;</a></span>~storageBlock_C()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">storageBlock_C::~storageBlock_C </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="store_8cpp_source.html#l00029">29</a> of file <a class="el" href="store_8cpp_source.html">store.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   29</span>{ }</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ac9ae09aee8e89280fd15dcae118a7783" name="ac9ae09aee8e89280fd15dcae118a7783"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9ae09aee8e89280fd15dcae118a7783">&#9670;&nbsp;</a></span>addBlock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">byte storageBlock_C::addBlock </td>
          <td>(</td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>slots</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>recSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a storage block. </p>
<p >No range checking</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">slots</td><td>number of slots to add </td></tr>
    <tr><td class="paramname">recSize</td><td>size of each block in bytes. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>byte returns the id of the block. </dd></dl>

<p class="definition">Definition at line <a class="el" href="store_8cpp_source.html#l00107">107</a> of file <a class="el" href="store_8cpp_source.html">store.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  107</span>                                                        {</div>
<div class="line"><span class="lineno">  108</span>    <a class="code hl_variable" href="classstorage_block___c.html#a9069a91d9228649e3d3f67b5f40e182a">blocksA</a>[ <a class="code hl_variable" href="classstorage_block___c.html#af11fee6180446c962384ebe4c5d8eb11">slotsUsed</a> ].<a class="code hl_variable" href="store_8h.html#a140e81ed333b945f2430230e7da23f45">start</a> = <a class="code hl_variable" href="classstorage_block___c.html#a8534147de81cd1c257a0ec727440213c">nextStartAddr</a>;</div>
<div class="line"><span class="lineno">  109</span>    <a class="code hl_variable" href="classstorage_block___c.html#a9069a91d9228649e3d3f67b5f40e182a">blocksA</a>[ <a class="code hl_variable" href="classstorage_block___c.html#af11fee6180446c962384ebe4c5d8eb11">slotsUsed</a> ].<a class="code hl_variable" href="store_8h.html#a91392f39b00b69c871dcfbd57095b643">slots</a> = slots;</div>
<div class="line"><span class="lineno">  110</span>    <a class="code hl_variable" href="classstorage_block___c.html#a9069a91d9228649e3d3f67b5f40e182a">blocksA</a>[ <a class="code hl_variable" href="classstorage_block___c.html#af11fee6180446c962384ebe4c5d8eb11">slotsUsed</a> ].<a class="code hl_variable" href="store_8h.html#a4c0d47a86eb54a54bdc30f23b0d648fc">size</a> = recSize;</div>
<div class="line"><span class="lineno">  111</span>    <a class="code hl_variable" href="classstorage_block___c.html#a8534147de81cd1c257a0ec727440213c">nextStartAddr</a> += slots * recSize;</div>
<div class="line"><span class="lineno">  112</span>    <a class="code hl_variable" href="classstorage_block___c.html#af11fee6180446c962384ebe4c5d8eb11">slotsUsed</a>++;</div>
<div class="line"><span class="lineno">  113</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classstorage_block___c.html#af11fee6180446c962384ebe4c5d8eb11">slotsUsed</a> - 1;</div>
<div class="line"><span class="lineno">  114</span>};</div>
<div class="ttc" id="aclassstorage_block___c_html_af11fee6180446c962384ebe4c5d8eb11"><div class="ttname"><a href="classstorage_block___c.html#af11fee6180446c962384ebe4c5d8eb11">storageBlock_C::slotsUsed</a></div><div class="ttdeci">byte slotsUsed</div><div class="ttdoc">The max No. Blocks. The number of array elements in the array used to store the block info in (blocks...</div><div class="ttdef"><b>Definition:</b> <a href="store_8h_source.html#l00042">store.h:42</a></div></div>
<div class="ttc" id="astore_8h_html_a140e81ed333b945f2430230e7da23f45"><div class="ttname"><a href="store_8h.html#a140e81ed333b945f2430230e7da23f45">storageBlock_T::start</a></div><div class="ttdeci">word start</div><div class="ttdef"><b>Definition:</b> <a href="store_8h_source.html#l00025">store.h:25</a></div></div>
<div class="ttc" id="astore_8h_html_a4c0d47a86eb54a54bdc30f23b0d648fc"><div class="ttname"><a href="store_8h.html#a4c0d47a86eb54a54bdc30f23b0d648fc">storageBlock_T::size</a></div><div class="ttdeci">byte size</div><div class="ttdoc">sizeof each storage slot in bytes.</div><div class="ttdef"><b>Definition:</b> <a href="store_8h_source.html#l00027">store.h:27</a></div></div>
<div class="ttc" id="astore_8h_html_a91392f39b00b69c871dcfbd57095b643"><div class="ttname"><a href="store_8h.html#a91392f39b00b69c871dcfbd57095b643">storageBlock_T::slots</a></div><div class="ttdeci">byte slots</div><div class="ttdoc">EEprom start index.</div><div class="ttdef"><b>Definition:</b> <a href="store_8h_source.html#l00026">store.h:26</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="store_8h_source.html#l00044">blocksA</a>, <a class="el" href="store_8h_source.html#l00040">nextStartAddr</a>, <a class="el" href="store_8h_source.html#l00027">storageBlock_T::size</a>, <a class="el" href="store_8h_source.html#l00026">storageBlock_T::slots</a>, <a class="el" href="store_8h_source.html#l00042">slotsUsed</a>, and <a class="el" href="store_8h_source.html#l00025">storageBlock_T::start</a>.</p>

</div>
</div>
<a id="a2467b7e6f601f96efc42a6c32a023522" name="a2467b7e6f601f96efc42a6c32a023522"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2467b7e6f601f96efc42a6c32a023522">&#9670;&nbsp;</a></span>blockEnd()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">word storageBlock_C::blockEnd </td>
          <td>(</td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>get block end index. i.e. the address of last byte used by the block. If block size is 0 there isn't a block end so result will be meaningless. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>Block id, index into blocksA[] </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>byte </dd></dl>

<p class="definition">Definition at line <a class="el" href="store_8cpp_source.html#l00048">48</a> of file <a class="el" href="store_8cpp_source.html">store.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   48</span>                                       {</div>
<div class="line"><span class="lineno">   49</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classstorage_block___c.html#a9069a91d9228649e3d3f67b5f40e182a">blocksA</a>[ id ].<a class="code hl_variable" href="store_8h.html#a140e81ed333b945f2430230e7da23f45">start</a> + <a class="code hl_variable" href="classstorage_block___c.html#a9069a91d9228649e3d3f67b5f40e182a">blocksA</a>[ id ].<a class="code hl_variable" href="store_8h.html#a91392f39b00b69c871dcfbd57095b643">slots</a> * <a class="code hl_variable" href="classstorage_block___c.html#a9069a91d9228649e3d3f67b5f40e182a">blocksA</a>[ id ].<a class="code hl_variable" href="store_8h.html#a4c0d47a86eb54a54bdc30f23b0d648fc">size</a> - 1;</div>
<div class="line"><span class="lineno">   50</span>    <span class="comment">//mem for block = number of slots * slot size. </span></div>
<div class="line"><span class="lineno">   51</span>    <span class="comment">//mem used before block = blocksA[ id ].start - 1.</span></div>
<div class="line"><span class="lineno">   52</span>    <span class="comment">// so: i = (blocksA[ id ].start - 1) + blocksA[ id ].slots * blocksA[ id ].size</span></div>
<div class="line"><span class="lineno">   53</span>    <span class="comment">// but as start could be 0 so sub 1 at end.</span></div>
<div class="line"><span class="lineno">   54</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="store_8h_source.html#l00044">blocksA</a>, <a class="el" href="store_8h_source.html#l00027">storageBlock_T::size</a>, <a class="el" href="store_8h_source.html#l00026">storageBlock_T::slots</a>, and <a class="el" href="store_8h_source.html#l00025">storageBlock_T::start</a>.</p>

<p class="reference">Referenced by <a class="el" href="store_8h_source.html#l00078">blockMem_C::blockEnd()</a>, and <a class="el" href="store_8cpp_source.html#l00070">print()</a>.</p>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classstorage_block___c_a2467b7e6f601f96efc42a6c32a023522_icgraph.png" border="0" usemap="#aclassstorage_block___c_a2467b7e6f601f96efc42a6c32a023522_icgraph" alt=""/></div>
<map name="aclassstorage_block___c_a2467b7e6f601f96efc42a6c32a023522_icgraph" id="aclassstorage_block___c_a2467b7e6f601f96efc42a6c32a023522_icgraph">
<area shape="rect" title="get block end index. i.e. the address of last byte used by the block. If block size is 0 there isn&#39;t ..." alt="" coords="419,31,609,57"/>
<area shape="rect" href="classblock_mem___c.html#a60818204acd6616f5513548b18b49a98" title=" " alt="" coords="197,5,371,32"/>
<area shape="rect" href="classstorage_block___c.html#a5689bada4bede0c81ab36fe2f06cc9f0" title="print info about the storage block to the serial." alt="" coords="203,56,365,83"/>
<area shape="rect" href="classblock_mem___c.html#a9230be465ff59edbed66fe536b3df2be" title=" " alt="" coords="5,56,149,83"/>
</map>
</div>

</div>
</div>
<a id="ab118a805d45d5b6208fbd31dface7e39" name="ab118a805d45d5b6208fbd31dface7e39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab118a805d45d5b6208fbd31dface7e39">&#9670;&nbsp;</a></span>blockSize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">byte storageBlock_C::blockSize </td>
          <td>(</td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>get the storage space size in bytes reserved for the block. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>The block id/array index. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>byte block size in bytes. </dd></dl>

<p class="definition">Definition at line <a class="el" href="store_8cpp_source.html#l00037">37</a> of file <a class="el" href="store_8cpp_source.html">store.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   37</span>                                        {</div>
<div class="line"><span class="lineno">   38</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classstorage_block___c.html#a9069a91d9228649e3d3f67b5f40e182a">blocksA</a>[ id ].<a class="code hl_variable" href="store_8h.html#a91392f39b00b69c871dcfbd57095b643">slots</a> * <a class="code hl_variable" href="classstorage_block___c.html#a9069a91d9228649e3d3f67b5f40e182a">blocksA</a>[ id ].<a class="code hl_variable" href="store_8h.html#a4c0d47a86eb54a54bdc30f23b0d648fc">size</a>; <span class="comment">//mem for block = number of slots * slot size.</span></div>
<div class="line"><span class="lineno">   39</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="store_8h_source.html#l00044">blocksA</a>, <a class="el" href="store_8h_source.html#l00027">storageBlock_T::size</a>, and <a class="el" href="store_8h_source.html#l00026">storageBlock_T::slots</a>.</p>

<p class="reference">Referenced by <a class="el" href="store_8h_source.html#l00083">blockMem_C::blockSize()</a>, and <a class="el" href="store_8cpp_source.html#l00070">print()</a>.</p>
<div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classstorage_block___c_ab118a805d45d5b6208fbd31dface7e39_icgraph.png" border="0" usemap="#aclassstorage_block___c_ab118a805d45d5b6208fbd31dface7e39_icgraph" alt=""/></div>
<map name="aclassstorage_block___c_ab118a805d45d5b6208fbd31dface7e39_icgraph" id="aclassstorage_block___c_ab118a805d45d5b6208fbd31dface7e39_icgraph">
<area shape="rect" title="get the storage space size in bytes reserved for the block." alt="" coords="421,31,615,57"/>
<area shape="rect" href="classblock_mem___c.html#a6ac5c94d5e447ba91f9a92766651ffd4" title=" " alt="" coords="197,5,373,32"/>
<area shape="rect" href="classstorage_block___c.html#a5689bada4bede0c81ab36fe2f06cc9f0" title="print info about the storage block to the serial." alt="" coords="205,56,366,83"/>
<area shape="rect" href="classblock_mem___c.html#a9230be465ff59edbed66fe536b3df2be" title=" " alt="" coords="5,56,149,83"/>
</map>
</div>

</div>
</div>
<a id="ad1486b9a48a2b2c4cb3cf16827cbb7a1" name="ad1486b9a48a2b2c4cb3cf16827cbb7a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1486b9a48a2b2c4cb3cf16827cbb7a1">&#9670;&nbsp;</a></span>blockStart()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">word storageBlock_C::blockStart </td>
          <td>(</td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>blockId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the storage block start address. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">blockId</td><td>Block id/array index </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>word </dd></dl>

<p class="definition">Definition at line <a class="el" href="store_8cpp_source.html#l00122">122</a> of file <a class="el" href="store_8cpp_source.html">store.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  122</span>                                              {</div>
<div class="line"><span class="lineno">  123</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classstorage_block___c.html#a9069a91d9228649e3d3f67b5f40e182a">blocksA</a>[ blockId ].<a class="code hl_variable" href="store_8h.html#a140e81ed333b945f2430230e7da23f45">start</a>;</div>
<div class="line"><span class="lineno">  124</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="store_8h_source.html#l00044">blocksA</a>, and <a class="el" href="store_8h_source.html#l00025">storageBlock_T::start</a>.</p>

<p class="reference">Referenced by <a class="el" href="store_8h_source.html#l00077">blockMem_C::blockStart()</a>.</p>
<div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classstorage_block___c_ad1486b9a48a2b2c4cb3cf16827cbb7a1_icgraph.png" border="0" usemap="#aclassstorage_block___c_ad1486b9a48a2b2c4cb3cf16827cbb7a1_icgraph" alt=""/></div>
<map name="aclassstorage_block___c_ad1486b9a48a2b2c4cb3cf16827cbb7a1_icgraph" id="aclassstorage_block___c_ad1486b9a48a2b2c4cb3cf16827cbb7a1_icgraph">
<area shape="rect" title="Get the storage block start address." alt="" coords="233,5,431,32"/>
<area shape="rect" href="classblock_mem___c.html#ae2966e00bdc0b6ac8b5e7fb9eefd0cf2" title=" " alt="" coords="5,5,185,32"/>
</map>
</div>

</div>
</div>
<a id="acb749fa733b7000304b57fb659716497" name="acb749fa733b7000304b57fb659716497"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb749fa733b7000304b57fb659716497">&#9670;&nbsp;</a></span>getSlots()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">byte storageBlock_C::getSlots </td>
          <td>(</td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="store_8h_source.html#l00058">58</a> of file <a class="el" href="store_8h_source.html">store.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   58</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classstorage_block___c.html#a9069a91d9228649e3d3f67b5f40e182a">blocksA</a>[id].<a class="code hl_variable" href="store_8h.html#a91392f39b00b69c871dcfbd57095b643">slots</a>; }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="store_8h_source.html#l00044">blocksA</a>, and <a class="el" href="store_8h_source.html#l00026">storageBlock_T::slots</a>.</p>

<p class="reference">Referenced by <a class="el" href="store_8h_source.html#l00090">blockMem_C::getSlots()</a>.</p>
<div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classstorage_block___c_acb749fa733b7000304b57fb659716497_icgraph.png" border="0" usemap="#aclassstorage_block___c_acb749fa733b7000304b57fb659716497_icgraph" alt=""/></div>
<map name="aclassstorage_block___c_acb749fa733b7000304b57fb659716497_icgraph" id="aclassstorage_block___c_acb749fa733b7000304b57fb659716497_icgraph">
<area shape="rect" title=" " alt="" coords="220,5,404,32"/>
<area shape="rect" href="classblock_mem___c.html#ab00c3bdc52c49a26f8b6931f9af058ab" title=" " alt="" coords="5,5,172,32"/>
</map>
</div>

</div>
</div>
<a id="a0f4aa42b1755c6439528a6a6f72043f8" name="a0f4aa42b1755c6439528a6a6f72043f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f4aa42b1755c6439528a6a6f72043f8">&#9670;&nbsp;</a></span>leaveFirst()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void storageBlock_C::leaveFirst </td>
          <td>(</td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>i</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the address to start using storage at. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">i</td><td>The storage index/ memory address. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="store_8cpp_source.html#l00061">61</a> of file <a class="el" href="store_8cpp_source.html">store.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   61</span>                                        {</div>
<div class="line"><span class="lineno">   62</span>    <a class="code hl_variable" href="classstorage_block___c.html#a8534147de81cd1c257a0ec727440213c">nextStartAddr</a> = i;<span class="comment">// for eeprom the first address is 0 is if i = 15 there would be 15 unused(well by this) bytes.</span></div>
<div class="line"><span class="lineno">   63</span>};</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="store_8h_source.html#l00040">nextStartAddr</a>.</p>

</div>
</div>
<a id="a5689bada4bede0c81ab36fe2f06cc9f0" name="a5689bada4bede0c81ab36fe2f06cc9f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5689bada4bede0c81ab36fe2f06cc9f0">&#9670;&nbsp;</a></span>print()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void storageBlock_C::print </td>
          <td>(</td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>print info about the storage block to the serial. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>the id(array index) of the block to print the info about. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="store_8cpp_source.html#l00070">70</a> of file <a class="el" href="store_8cpp_source.html">store.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   70</span>                                    {</div>
<div class="line"><span class="lineno">   71</span>    io_print( <span class="stringliteral">&quot; storage id: &quot;</span> ); io_print_n( <span class="keywordtype">id</span> );</div>
<div class="line"><span class="lineno">   72</span>    io_print( <span class="stringliteral">&quot;, start address: &quot;</span> ); io_print_n( <a class="code hl_variable" href="classstorage_block___c.html#a9069a91d9228649e3d3f67b5f40e182a">blocksA</a>[ <span class="keywordtype">id</span> ].start );</div>
<div class="line"><span class="lineno">   73</span>    io_print( <span class="stringliteral">&quot;, end addr: &quot;</span> ); io_print_n( <a class="code hl_function" href="classstorage_block___c.html#a2467b7e6f601f96efc42a6c32a023522">blockEnd</a>( <span class="keywordtype">id</span> ) );</div>
<div class="line"><span class="lineno">   74</span>    io_print( <span class="stringliteral">&quot;, bytes used: &quot;</span> ); io_print_n( <a class="code hl_function" href="classstorage_block___c.html#ab118a805d45d5b6208fbd31dface7e39">blockSize</a>( <span class="keywordtype">id</span> ) );</div>
<div class="line"><span class="lineno">   75</span>}</div>
<div class="ttc" id="aclassstorage_block___c_html_a2467b7e6f601f96efc42a6c32a023522"><div class="ttname"><a href="classstorage_block___c.html#a2467b7e6f601f96efc42a6c32a023522">storageBlock_C::blockEnd</a></div><div class="ttdeci">word blockEnd(byte id)</div><div class="ttdoc">get block end index. i.e. the address of last byte used by the block. If block size is 0 there isn't ...</div><div class="ttdef"><b>Definition:</b> <a href="store_8cpp_source.html#l00048">store.cpp:48</a></div></div>
<div class="ttc" id="aclassstorage_block___c_html_ab118a805d45d5b6208fbd31dface7e39"><div class="ttname"><a href="classstorage_block___c.html#ab118a805d45d5b6208fbd31dface7e39">storageBlock_C::blockSize</a></div><div class="ttdeci">byte blockSize(byte id)</div><div class="ttdoc">get the storage space size in bytes reserved for the block.</div><div class="ttdef"><b>Definition:</b> <a href="store_8cpp_source.html#l00037">store.cpp:37</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="store_8cpp_source.html#l00048">blockEnd()</a>, <a class="el" href="store_8h_source.html#l00044">blocksA</a>, and <a class="el" href="store_8cpp_source.html#l00037">blockSize()</a>.</p>

<p class="reference">Referenced by <a class="el" href="store_8h_source.html#l00089">blockMem_C::print()</a>.</p>
<div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classstorage_block___c_a5689bada4bede0c81ab36fe2f06cc9f0_cgraph.png" border="0" usemap="#aclassstorage_block___c_a5689bada4bede0c81ab36fe2f06cc9f0_cgraph" alt=""/></div>
<map name="aclassstorage_block___c_a5689bada4bede0c81ab36fe2f06cc9f0_cgraph" id="aclassstorage_block___c_a5689bada4bede0c81ab36fe2f06cc9f0_cgraph">
<area shape="rect" title="print info about the storage block to the serial." alt="" coords="5,31,167,57"/>
<area shape="rect" href="classstorage_block___c.html#a2467b7e6f601f96efc42a6c32a023522" title="get block end index. i.e. the address of last byte used by the block. If block size is 0 there isn&#39;t ..." alt="" coords="216,5,407,32"/>
<area shape="rect" href="classstorage_block___c.html#ab118a805d45d5b6208fbd31dface7e39" title="get the storage space size in bytes reserved for the block." alt="" coords="215,56,408,83"/>
</map>
</div>
<div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classstorage_block___c_a5689bada4bede0c81ab36fe2f06cc9f0_icgraph.png" border="0" usemap="#aclassstorage_block___c_a5689bada4bede0c81ab36fe2f06cc9f0_icgraph" alt=""/></div>
<map name="aclassstorage_block___c_a5689bada4bede0c81ab36fe2f06cc9f0_icgraph" id="aclassstorage_block___c_a5689bada4bede0c81ab36fe2f06cc9f0_icgraph">
<area shape="rect" title="print info about the storage block to the serial." alt="" coords="197,5,359,32"/>
<area shape="rect" href="classblock_mem___c.html#a9230be465ff59edbed66fe536b3df2be" title=" " alt="" coords="5,5,149,32"/>
</map>
</div>

</div>
</div>
<a id="a769366c10cb4f7a77f9098bca7be6256" name="a769366c10cb4f7a77f9098bca7be6256"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a769366c10cb4f7a77f9098bca7be6256">&#9670;&nbsp;</a></span>printMemUsage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void storageBlock_C::printMemUsage </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Print storage mem usage.</p>

<p class="definition">Definition at line <a class="el" href="store_8cpp_source.html#l00077">77</a> of file <a class="el" href="store_8cpp_source.html">store.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   77</span>                                   {</div>
<div class="line"><span class="lineno">   78</span><span class="preprocessor">#ifdef ATmega328P</span></div>
<div class="line"><span class="lineno">   79</span>    io_println( <span class="stringliteral">&quot;MCU = ATmega328P&quot;</span> );</div>
<div class="line"><span class="lineno">   80</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">   81</span>    io_println( <span class="stringliteral">&quot;ATmega328P has 1kByte EEPROM, ATmega1280 and ATmega2560 4KB&quot;</span> );</div>
<div class="line"><span class="lineno">   82</span>    <span class="comment">//    io_println( &quot;EEPROM use:&quot; );</span></div>
<div class="line"><span class="lineno">   83</span>    io_print( <span class="stringliteral">&quot;Storage used:\n\r\tFor vars: &quot;</span> );</div>
<div class="line"><span class="lineno">   84</span>    io_print_n( <a class="code hl_variable" href="classstorage_block___c.html#a9069a91d9228649e3d3f67b5f40e182a">blocksA</a>[ 0 ].start );</div>
<div class="line"><span class="lineno">   85</span>    <span class="comment">//io_print( &quot;bytes, For switch sender = &quot; );</span></div>
<div class="line"><span class="lineno">   86</span>    <span class="comment">//io_println_n( resMemForSwitchCon );</span></div>
<div class="line"><span class="lineno">   87</span>    io_print( <span class="stringliteral">&quot;bytes,\n\r\tFor Blocks: &quot;</span> );</div>
<div class="line"><span class="lineno">   88</span>    io_println_n( <a class="code hl_variable" href="classstorage_block___c.html#a8534147de81cd1c257a0ec727440213c">nextStartAddr</a> - <a class="code hl_variable" href="classstorage_block___c.html#a9069a91d9228649e3d3f67b5f40e182a">blocksA</a>[ 0 ].start );</div>
<div class="line"><span class="lineno">   89</span>    io_print( <span class="stringliteral">&quot;\tTotal EEPROM memory used in bytes = &quot;</span> );</div>
<div class="line"><span class="lineno">   90</span>    io_print_n( <a class="code hl_variable" href="classstorage_block___c.html#a8534147de81cd1c257a0ec727440213c">nextStartAddr</a> );</div>
<div class="line"><span class="lineno">   91</span>    io_print( <span class="stringliteral">&quot;bytes, EEPROM memory left bytes = &quot;</span> );</div>
<div class="line"><span class="lineno">   92</span>    io_print_n( ( mem_eeprom - ( <a class="code hl_variable" href="classstorage_block___c.html#a8534147de81cd1c257a0ec727440213c">nextStartAddr</a> ) ) );</div>
<div class="line"><span class="lineno">   93</span>    io_print( <span class="stringliteral">&quot;bytes, percentage left \u2248 &quot;</span> );<span class="comment">//using this ≈ works to</span></div>
<div class="line"><span class="lineno">   94</span>    io_print_n( ( ( mem_eeprom - ( <a class="code hl_variable" href="classstorage_block___c.html#a8534147de81cd1c257a0ec727440213c">nextStartAddr</a> ) ) * 100ul ) / mem_eeprom ); io_println( <span class="stringliteral">&quot;%&quot;</span> );</div>
<div class="line"><span class="lineno">   95</span> </div>
<div class="line"><span class="lineno">   96</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="store_8h_source.html#l00044">blocksA</a>, and <a class="el" href="store_8h_source.html#l00040">nextStartAddr</a>.</p>

</div>
</div>
<a id="aee7a456279f8d306be97defb37320c35" name="aee7a456279f8d306be97defb37320c35"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee7a456279f8d306be97defb37320c35">&#9670;&nbsp;</a></span>readByte()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">byte storageBlock_C::readByte </td>
          <td>(</td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>blockId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>slot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read a byte of data from a storage block slot. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">blockId</td><td>the index the into the array holding the block info ie. (blocksA[blockId]). </td></tr>
    <tr><td class="paramname">slot</td><td>The slot number. </td></tr>
    <tr><td class="paramname">offset</td><td>The byte to read withing the slot starting at 0 for the first. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>byte </dd></dl>

<p class="definition">Definition at line <a class="el" href="store_8cpp_source.html#l00134">134</a> of file <a class="el" href="store_8cpp_source.html">store.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  134</span>                                                                    {</div>
<div class="line"><span class="lineno">  135</span>    word i;</div>
<div class="line"><span class="lineno">  136</span>    i = <a class="code hl_variable" href="classstorage_block___c.html#a9069a91d9228649e3d3f67b5f40e182a">blocksA</a>[ blockId ].<a class="code hl_variable" href="store_8h.html#a140e81ed333b945f2430230e7da23f45">start</a> + ( slot * <a class="code hl_variable" href="classstorage_block___c.html#a9069a91d9228649e3d3f67b5f40e182a">blocksA</a>[ blockId ].<a class="code hl_variable" href="store_8h.html#a4c0d47a86eb54a54bdc30f23b0d648fc">size</a> );</div>
<div class="line"><span class="lineno">  137</span>    <span class="keywordflow">return</span> EEPROM.read( i );</div>
<div class="line"><span class="lineno">  138</span> </div>
<div class="line"><span class="lineno">  139</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="store_8h_source.html#l00044">blocksA</a>, <a class="el" href="store_8h_source.html#l00027">storageBlock_T::size</a>, and <a class="el" href="store_8h_source.html#l00025">storageBlock_T::start</a>.</p>

<p class="reference">Referenced by <a class="el" href="store_8h_source.html#l00085">blockMem_C::readByte()</a>.</p>
<div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classstorage_block___c_aee7a456279f8d306be97defb37320c35_icgraph.png" border="0" usemap="#aclassstorage_block___c_aee7a456279f8d306be97defb37320c35_icgraph" alt=""/></div>
<map name="aclassstorage_block___c_aee7a456279f8d306be97defb37320c35_icgraph" id="aclassstorage_block___c_aee7a456279f8d306be97defb37320c35_icgraph">
<area shape="rect" title="Read a byte of data from a storage block slot." alt="" coords="227,5,417,32"/>
<area shape="rect" href="classblock_mem___c.html#a553a53a98f4ef6f9b6f1f7b69d366214" title=" " alt="" coords="5,5,179,32"/>
</map>
</div>

</div>
</div>
<a id="a85ff9c2e220fa0a8e7c1d62f85a3cf39" name="a85ff9c2e220fa0a8e7c1d62f85a3cf39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85ff9c2e220fa0a8e7c1d62f85a3cf39">&#9670;&nbsp;</a></span>readSlot()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool storageBlock_C::readSlot </td>
          <td>(</td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>blockId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>slot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>r</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read a var from permanent storage eg. EEPROM into a var/struct, copys mem of size = to the slot size given when addBlock was called. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">blockId</td><td>the block of storage, ie. the index to the array </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">slot</td><td>The slot to read, mem copy len is = the size of the rec/slot </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">r</td><td>pointer to the memory to copy the slot into. As not using templates need to make sure sizeof(var pointed to by r) &gt;= slot size. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if no problems </dd>
<dd>
false if slot &gt; num of slots in block. </dd></dl>

<p class="definition">Definition at line <a class="el" href="store_8cpp_source.html#l00152">152</a> of file <a class="el" href="store_8cpp_source.html">store.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  152</span>                                                                {</div>
<div class="line"><span class="lineno">  153</span>    word i, x;</div>
<div class="line"><span class="lineno">  154</span>    <span class="comment">//io_print( &quot;, id: &quot; ); io_print_n( blockId );// checked to = 1 for 1-wire.</span></div>
<div class="line"><span class="lineno">  155</span>    <span class="comment">//io_print( &quot;, slot: &quot; ); io_print_n( slot );</span></div>
<div class="line"><span class="lineno">  156</span>    <span class="comment">//io_print( &quot;, &amp;blocksA:&quot; ); io_print_n( ( word )&amp;blocksA );</span></div>
<div class="line"><span class="lineno">  157</span>    <span class="comment">//io_print( &quot;, &amp;this:&quot; ); io_print_n( ( word )this );</span></div>
<div class="line"><span class="lineno">  158</span> </div>
<div class="line"><span class="lineno">  159</span>    <span class="comment">//io_print( &quot;, .slots: &quot; ); io_print_n( blocksA[ blockId ].slots );</span></div>
<div class="line"><span class="lineno">  160</span>    <span class="comment">//io_print( &quot;, sizeof(r):&quot;);io_print_n( sizeof(r) );</span></div>
<div class="line"><span class="lineno">  161</span>    <span class="comment">//io_print( &quot;, r:&quot;);io_print_n( (word)r );</span></div>
<div class="line"><span class="lineno">  162</span>    <span class="comment">//io_print( &quot;, ( byte* )r:&quot;); io_print_n( (word)(( byte* )r) );</span></div>
<div class="line"><span class="lineno">  163</span> </div>
<div class="line"><span class="lineno">  164</span>    <span class="keywordflow">if</span> ( slot &gt; <a class="code hl_variable" href="classstorage_block___c.html#a9069a91d9228649e3d3f67b5f40e182a">blocksA</a>[ blockId ].slots ) { <span class="keywordflow">return</span> <span class="keyword">false</span>; }</div>
<div class="line"><span class="lineno">  165</span>    i = <a class="code hl_variable" href="classstorage_block___c.html#a9069a91d9228649e3d3f67b5f40e182a">blocksA</a>[ blockId ].<a class="code hl_variable" href="store_8h.html#a140e81ed333b945f2430230e7da23f45">start</a> + ( slot * <a class="code hl_variable" href="classstorage_block___c.html#a9069a91d9228649e3d3f67b5f40e182a">blocksA</a>[ blockId ].<a class="code hl_variable" href="store_8h.html#a4c0d47a86eb54a54bdc30f23b0d648fc">size</a> );</div>
<div class="line"><span class="lineno">  166</span>    <span class="comment">//io_print( &quot;, i(EEPROM addr): &quot; ); io_print_n( i );</span></div>
<div class="line"><span class="lineno">  167</span>    <span class="keywordtype">byte</span>* d = ( <span class="keywordtype">byte</span>* )r;</div>
<div class="line"><span class="lineno">  168</span>    <span class="comment">//io_print( &quot;, d:&quot;);io_print_n( (word)d );</span></div>
<div class="line"><span class="lineno">  169</span>    <span class="keywordflow">for</span> ( x = 0; x &lt; <a class="code hl_variable" href="classstorage_block___c.html#a9069a91d9228649e3d3f67b5f40e182a">blocksA</a>[ blockId ].<a class="code hl_variable" href="store_8h.html#a4c0d47a86eb54a54bdc30f23b0d648fc">size</a>; x++ ) {</div>
<div class="line"><span class="lineno">  170</span>        d[ x ] = EEPROM.read( i + x );</div>
<div class="line"><span class="lineno">  171</span>        <span class="comment">//io_print( &quot;.&quot; );</span></div>
<div class="line"><span class="lineno">  172</span>    }</div>
<div class="line"><span class="lineno">  173</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  174</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="store_8h_source.html#l00044">blocksA</a>, <a class="el" href="store_8h_source.html#l00027">storageBlock_T::size</a>, and <a class="el" href="store_8h_source.html#l00025">storageBlock_T::start</a>.</p>

<p class="reference">Referenced by <a class="el" href="store_8cpp_source.html#l00216">blockMem_C::readSlot()</a>.</p>
<div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classstorage_block___c_a85ff9c2e220fa0a8e7c1d62f85a3cf39_icgraph.png" border="0" usemap="#aclassstorage_block___c_a85ff9c2e220fa0a8e7c1d62f85a3cf39_icgraph" alt=""/></div>
<map name="aclassstorage_block___c_a85ff9c2e220fa0a8e7c1d62f85a3cf39_icgraph" id="aclassstorage_block___c_a85ff9c2e220fa0a8e7c1d62f85a3cf39_icgraph">
<area shape="rect" title="Read a var from permanent storage eg. EEPROM into a var/struct, copys mem of size = to the slot size ..." alt="" coords="221,5,407,32"/>
<area shape="rect" href="classblock_mem___c.html#a22a8e8952d4df256c9ff7333824fc90f" title="Read a slot of data from storage. e.g. eeprom, flash, SDcard(only eeprom for now)" alt="" coords="5,5,173,32"/>
</map>
</div>

</div>
</div>
<a id="abef785fcb0da67f1ca8dbf54cfc6491f" name="abef785fcb0da67f1ca8dbf54cfc6491f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abef785fcb0da67f1ca8dbf54cfc6491f">&#9670;&nbsp;</a></span>writeByte()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool storageBlock_C::writeByte </td>
          <td>(</td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>blockId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>slot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="store_8cpp_source.html#l00196">196</a> of file <a class="el" href="store_8cpp_source.html">store.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  196</span>                                                                                {</div>
<div class="line"><span class="lineno">  197</span>     word i;</div>
<div class="line"><span class="lineno">  198</span>     i = <a class="code hl_variable" href="classstorage_block___c.html#a9069a91d9228649e3d3f67b5f40e182a">blocksA</a>[ blockId ].<a class="code hl_variable" href="store_8h.html#a140e81ed333b945f2430230e7da23f45">start</a> + ( slot * <a class="code hl_variable" href="classstorage_block___c.html#a9069a91d9228649e3d3f67b5f40e182a">blocksA</a>[ blockId ].<a class="code hl_variable" href="store_8h.html#a4c0d47a86eb54a54bdc30f23b0d648fc">size</a> ) + offset;</div>
<div class="line"><span class="lineno">  199</span>     EEPROM.update( i,  value);</div>
<div class="line"><span class="lineno">  200</span>     <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  201</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="store_8h_source.html#l00044">blocksA</a>, <a class="el" href="store_8h_source.html#l00027">storageBlock_T::size</a>, and <a class="el" href="store_8h_source.html#l00025">storageBlock_T::start</a>.</p>

<p class="reference">Referenced by <a class="el" href="store_8h_source.html#l00087">blockMem_C::writeByte()</a>.</p>
<div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classstorage_block___c_abef785fcb0da67f1ca8dbf54cfc6491f_icgraph.png" border="0" usemap="#aclassstorage_block___c_abef785fcb0da67f1ca8dbf54cfc6491f_icgraph" alt=""/></div>
<map name="aclassstorage_block___c_abef785fcb0da67f1ca8dbf54cfc6491f_icgraph" id="aclassstorage_block___c_abef785fcb0da67f1ca8dbf54cfc6491f_icgraph">
<area shape="rect" title=" " alt="" coords="231,5,425,32"/>
<area shape="rect" href="classblock_mem___c.html#a384e3788e132d1ba9fac1b8c93fab642" title=" " alt="" coords="5,5,183,32"/>
</map>
</div>

</div>
</div>
<a id="a7e258c73d18c8939ab2fcab66fcf6a64" name="a7e258c73d18c8939ab2fcab66fcf6a64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e258c73d18c8939ab2fcab66fcf6a64">&#9670;&nbsp;</a></span>writeSlot()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool storageBlock_C::writeSlot </td>
          <td>(</td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>blockId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>slot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>r</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write a var into permanent storage eg. EEPROM into a var/struct, copys mem of size = to the slot size given when addBlock was called. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">blockId</td><td>the block of storage, ie. the index to the array </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">slot</td><td>The slot to update, mem copy len is = the size of the rec/slot </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">r</td><td>pointer to the memory to copy into the slot. As not using templates need to make sure sizeof(var pointed to by r) &gt;= slot size. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if no problems </dd>
<dd>
false if slot &gt; num of slots in block. </dd></dl>

<p class="definition">Definition at line <a class="el" href="store_8cpp_source.html#l00185">185</a> of file <a class="el" href="store_8cpp_source.html">store.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  185</span>                                                                 {</div>
<div class="line"><span class="lineno">  186</span>    word i, x;</div>
<div class="line"><span class="lineno">  187</span>    <span class="keywordflow">if</span> ( slot &gt; <a class="code hl_variable" href="classstorage_block___c.html#a9069a91d9228649e3d3f67b5f40e182a">blocksA</a>[ blockId ].slots ) { <span class="keywordflow">return</span> <span class="keyword">false</span>; }</div>
<div class="line"><span class="lineno">  188</span>    i = <a class="code hl_variable" href="classstorage_block___c.html#a9069a91d9228649e3d3f67b5f40e182a">blocksA</a>[ blockId ].<a class="code hl_variable" href="store_8h.html#a140e81ed333b945f2430230e7da23f45">start</a> + ( slot * <a class="code hl_variable" href="classstorage_block___c.html#a9069a91d9228649e3d3f67b5f40e182a">blocksA</a>[ blockId ].<a class="code hl_variable" href="store_8h.html#a4c0d47a86eb54a54bdc30f23b0d648fc">size</a> );</div>
<div class="line"><span class="lineno">  189</span>    <span class="keywordtype">byte</span>* d = ( <span class="keywordtype">byte</span>* )r;</div>
<div class="line"><span class="lineno">  190</span>    <span class="keywordflow">for</span> ( x = 0; x &lt; <a class="code hl_variable" href="classstorage_block___c.html#a9069a91d9228649e3d3f67b5f40e182a">blocksA</a>[ blockId ].<a class="code hl_variable" href="store_8h.html#a4c0d47a86eb54a54bdc30f23b0d648fc">size</a>; x++ ) {</div>
<div class="line"><span class="lineno">  191</span>        EEPROM.update( i + x, d[ x ] );</div>
<div class="line"><span class="lineno">  192</span>    }</div>
<div class="line"><span class="lineno">  193</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  194</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="store_8h_source.html#l00044">blocksA</a>, <a class="el" href="store_8h_source.html#l00027">storageBlock_T::size</a>, and <a class="el" href="store_8h_source.html#l00025">storageBlock_T::start</a>.</p>

<p class="reference">Referenced by <a class="el" href="store_8h_source.html#l00088">blockMem_C::writeSlot()</a>.</p>
<div id="dynsection-10" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-10-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-10-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-10-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classstorage_block___c_a7e258c73d18c8939ab2fcab66fcf6a64_icgraph.png" border="0" usemap="#aclassstorage_block___c_a7e258c73d18c8939ab2fcab66fcf6a64_icgraph" alt=""/></div>
<map name="aclassstorage_block___c_a7e258c73d18c8939ab2fcab66fcf6a64_icgraph" id="aclassstorage_block___c_a7e258c73d18c8939ab2fcab66fcf6a64_icgraph">
<area shape="rect" title="Write a var into permanent storage eg. EEPROM into a var/struct, copys mem of size = to the slot size..." alt="" coords="225,5,415,32"/>
<area shape="rect" href="classblock_mem___c.html#ae8b068f64f2b0dc1c74a278fd8f6b954" title=" " alt="" coords="5,5,177,32"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a9069a91d9228649e3d3f67b5f40e182a" name="a9069a91d9228649e3d3f67b5f40e182a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9069a91d9228649e3d3f67b5f40e182a">&#9670;&nbsp;</a></span>blocksA</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="store_8h.html#structstorage_block___t">storageBlock_T</a>* storageBlock_C::blocksA</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>No. of elements of blocksA[] used. </p>

<p class="definition">Definition at line <a class="el" href="store_8h_source.html#l00044">44</a> of file <a class="el" href="store_8h_source.html">store.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="store_8cpp_source.html#l00107">addBlock()</a>, <a class="el" href="store_8cpp_source.html#l00048">blockEnd()</a>, <a class="el" href="store_8cpp_source.html#l00037">blockSize()</a>, <a class="el" href="store_8cpp_source.html#l00122">blockStart()</a>, <a class="el" href="store_8h_source.html#l00058">getSlots()</a>, <a class="el" href="store_8cpp_source.html#l00070">print()</a>, <a class="el" href="store_8cpp_source.html#l00077">printMemUsage()</a>, <a class="el" href="store_8cpp_source.html#l00134">readByte()</a>, <a class="el" href="store_8cpp_source.html#l00152">readSlot()</a>, <a class="el" href="store_8h_source.html#l00084">blockMem_C::slotSize()</a>, <a class="el" href="store_8cpp_source.html#l00024">storageBlock_C()</a>, <a class="el" href="store_8cpp_source.html#l00196">writeByte()</a>, and <a class="el" href="store_8cpp_source.html#l00185">writeSlot()</a>.</p>

</div>
</div>
<a id="ab6449bda89cd0dab792e60e5ee862939" name="ab6449bda89cd0dab792e60e5ee862939"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6449bda89cd0dab792e60e5ee862939">&#9670;&nbsp;</a></span>maxBlocks</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">byte storageBlock_C::maxBlocks</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The address/index to start at for any new block. </p>

<p class="definition">Definition at line <a class="el" href="store_8h_source.html#l00041">41</a> of file <a class="el" href="store_8h_source.html">store.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="store_8cpp_source.html#l00024">storageBlock_C()</a>.</p>

</div>
</div>
<a id="a8534147de81cd1c257a0ec727440213c" name="a8534147de81cd1c257a0ec727440213c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8534147de81cd1c257a0ec727440213c">&#9670;&nbsp;</a></span>nextStartAddr</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t storageBlock_C::nextStartAddr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="store_8h_source.html#l00040">40</a> of file <a class="el" href="store_8h_source.html">store.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="store_8cpp_source.html#l00107">addBlock()</a>, <a class="el" href="store_8cpp_source.html#l00061">leaveFirst()</a>, <a class="el" href="store_8cpp_source.html#l00077">printMemUsage()</a>, and <a class="el" href="store_8cpp_source.html#l00024">storageBlock_C()</a>.</p>

</div>
</div>
<a id="af11fee6180446c962384ebe4c5d8eb11" name="af11fee6180446c962384ebe4c5d8eb11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af11fee6180446c962384ebe4c5d8eb11">&#9670;&nbsp;</a></span>slotsUsed</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">byte storageBlock_C::slotsUsed = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The max No. Blocks. The number of array elements in the array used to store the block info in (blocksA). </p>

<p class="definition">Definition at line <a class="el" href="store_8h_source.html#l00042">42</a> of file <a class="el" href="store_8h_source.html">store.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="store_8cpp_source.html#l00107">addBlock()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="store_8h_source.html">store.h</a></li>
<li>src/<a class="el" href="store_8cpp_source.html">store.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classstorage_block___c.html">storageBlock_C</a></li>
    <li class="footer">Generated on Mon Jun 6 2022 20:53:51 for arduino store by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3 </li>
  </ul>
</div>
</body>
</html>
